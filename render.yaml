services:
  - type: web
    name: simple-search-rank-api
    env: python
    plan: free
    buildCommand: cd backend && pip install -r requirements.txt && python -m spacy download pt_core_news_md
    startCommand: cd backend && uvicorn app.main:app --host 0.0.0.0 --port $PORT
    envVars:
      - key: DOWNLOAD_PDFS
        value: false
      - key: CORPUS_PATH
        value: pdf_dataset
      - key: FRONTEND_URL
        sync: false
        # Configurar manualmente com URL do Vercel ap√≥s deploy
      - key: PYTHON_VERSION
        value: 3.11.0
    rootDir: backend
